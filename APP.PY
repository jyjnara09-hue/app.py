import streamlit as st
import random
import math

g = 9.81  # ì¤‘ë ¥ ê°€ì†ë„ (m/s^2)

st.set_page_config(page_title="ì§„ì ê¸¸ì´ ë§ì¶”ê¸° ê²Œì„", page_icon="âš™ï¸")
st.title("âš™ï¸ ì§„ì ê¸¸ì´ ë§ì¶”ê¸° ê²Œì„")
st.write("ì£¼ì–´ì§„ ì£¼ê¸°(T)ì— í•´ë‹¹í•˜ëŠ” ì§„ìì˜ ê¸¸ì´(L)ë¥¼ ë§ì¶°ë³´ì„¸ìš”! (ë‹¨ìœ„: m)")

# ëœë¤ ì£¼ê¸° ìƒì„± (1~5ì´ˆ)
T = round(random.uniform(1.0, 5.0), 2)
st.write(f"ì£¼ê¸°: **{T} ì´ˆ**")

# ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™”
if "answer" not in st.session_state:
    st.session_state.answer = round((T/(2*math.pi))**2 * g, 2)
    st.session_state.count = 0

# ì‚¬ìš©ì ì…ë ¥
guess = st.number_input("ì¶”ì¸¡í•œ ì§„ì ê¸¸ì´(L)ë¥¼ ì…ë ¥í•˜ì„¸ìš” (m)", min_value=0.1, max_value=10.0, step=0.01, value=1.0)

# ì œì¶œ ë²„íŠ¼
if st.button("ì œì¶œ"):
    st.session_state.count += 1
    if abs(guess - st.session_state.answer) < 0.05:
        st.success(f"ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! ì§„ì ê¸¸ì´ L = {st.session_state.answer} m")
        st.write(f"ì´ ì‹œë„ íšŸìˆ˜: **{st.session_state.count}ë²ˆ**")
    elif guess < st.session_state.answer:
        st.warning("ğŸ”¼ ê¸¸ì´ê°€ ë” ê¹ë‹ˆë‹¤!")
    else:
        st.warning("ğŸ”½ ê¸¸ì´ê°€ ë” ì§§ìŠµë‹ˆë‹¤!")

# ì¬ì‹œì‘ ë²„íŠ¼
if st.button("ê²Œì„ ì¬ì‹œì‘"):
    T = round(random.uniform(1.0, 5.0), 2)
    st.session_state.answer = round((T/(2*math.pi))**2 * g, 2)
    st.session_state.count = 0
    st.experimental_rerun()
